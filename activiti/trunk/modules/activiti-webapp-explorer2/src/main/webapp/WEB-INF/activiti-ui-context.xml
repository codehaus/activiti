<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns:context="http://www.springframework.org/schema/context" xmlns:tx="http://www.springframework.org/schema/tx"
  xmlns:jee="http://www.springframework.org/schema/jee"
  xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
       http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd
       http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.0.xsd
       http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-3.0.xsd">

  <!-- Shared UI beans -->
  
  <bean name="navigatorManager" class="org.activiti.explorer.navigation.NavigatorManager" />
  
  <bean name="attachmentRendererManager" class="org.activiti.explorer.ui.content.AttachmentRendererManager" />
   
  <!-- Custom form property renderers can be plugged in here -->
  <bean id="formPropertyRendererManager" class="org.activiti.explorer.ui.form.FormPropertyRendererManager" lazy-init="true">
    <!-- Default renderer -->
    <property name="noTypePropertyRenderer">
      <bean class="org.activiti.explorer.ui.form.StringFormPropertyRenderer" />
    </property>
    <!-- Renderers by property type -->
    <property name="propertyRenderers">
      <list>
        <bean class="org.activiti.explorer.ui.form.StringFormPropertyRenderer" />
        <bean class="org.activiti.explorer.ui.form.EnumFormPropertyRenderer" />
        <bean class="org.activiti.explorer.ui.form.LongFormPropertyRenderer" />
        <bean class="org.activiti.explorer.ui.form.DateFormPropertyRenderer" />
        <bean class="org.activiti.explorer.ui.form.UserFormPropertyRenderer" />
        <bean class="org.activiti.explorer.ui.form.BooleanFormPropertyRenderer" />
      </list>
    </property>
  </bean>
  
  <!-- Session scoped UI beans -->
  
  <bean name="navigationFragmentChangeListener" class="org.activiti.explorer.navigation.NavigationFragmentChangeListener" scope="session">
    <property name="navigatorManager" ref="navigatorManager" />
  </bean>
  
  
  <bean name="mainWindow" class="org.activiti.explorer.ui.MainWindow" scope="session">
    <property name="navigationFragmentChangeListener" ref="navigationFragmentChangeListener" />
    <property name="i18nManager" ref="i18nManager" />
  </bean>
  
  <bean name="explorerApp" class="org.activiti.explorer.ExplorerApp" scope="session">
    <property name="userCache" ref="userCache" />
    <property name="i18nManager" ref="i18nManager" />
    <property name="viewManager" ref="viewManager" />
    <property name="notificationManager" ref="notificationManager" />
    <property name="attachmentRendererManager" ref="attachmentRendererManager" />
    <property name="formPropertyRendererManager" ref="formPropertyRendererManager" />
    <property name="applicationMainWindow" ref="mainWindow" />
  </bean>
  
  <bean name="i18nManager" class="org.activiti.explorer.I18nManager" scope="session" />
  
  <bean name="notificationManager" class="org.activiti.explorer.NotificationManager" scope="session">
    <property name="mainWindow" ref="mainWindow" />
    <property name="i18nManager" ref="i18nManager" />
  </bean>
  
  <bean name="viewManager" class="org.activiti.explorer.ViewManager" scope="session">
    <property name="mainWindow" ref="mainWindow" />
  </bean>

</beans>